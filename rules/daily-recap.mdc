---
description: "Time-aware greetings and work recaps when returning after idle. Reads session state to provide context on what was done and what's next."
alwaysApply: true
---

## Session Greeting

On session start, check `~/.command-center/session-state.json` for `lastSessionEnd`.

### Time-Aware Greeting

Based on current time:
- 5:00-11:59 → "Good morning, [name]"
- 12:00-16:59 → "Good afternoon, [name]"
- 17:00-20:59 → "Good evening, [name]"
- 21:00-4:59 → "Hey [name], burning the midnight oil?"

### Recap After Idle

If more than **4 hours** since last session:

1. Read `~/.command-center/session-state.json` for last workspace and recent activity
2. Read `~/.command-center/todos.md` for pending items
3. Read recent files in `task-history/` for context

Provide a brief recap:
```
Good morning, [name]. Here's where you left off:

**Last session:** [workspace name], worked on [task summary]
**Open todos:** [count] pending, [count] in progress
**Next up:** [highest priority pending todo]

Want to continue where you left off, or start something new?
```

### Short Absence (< 4 hours)

Just greet briefly: "Welcome back, [name]." — no recap unless asked.

### Standup Prompt

After the greeting (whether long recap or short), check `isNewDay` and `isStartOfWeek` from `.cursor/cc-context.json`:

- **New day (`isNewDay: true`):** After the greeting, ask: "Want me to generate today's standup?"
- **Start of work week (`isStartOfWeek: true`):** Ask instead: "Start of the week — want a weekly recap of last week?"
- If both are true, prefer the weekly prompt (it covers the daily too)
- If the user says yes, use the `standup-generator` skill

### End of Day

If the user says goodbye, goodnight, or ends a long session:
- "Good night, [name]. I've saved your progress."
- Remind of any in-progress items: "You still have [X] in progress — I'll remind you next time."
